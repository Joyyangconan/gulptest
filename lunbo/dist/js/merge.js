var lunBo=function(){function t(t){this.init(t),this.bind()}return t.prototype.init=function(t){this.$ulpic=t.find(".picwrap"),this.$piclist=this.$ulpic.children(),this.imageWidth=this.$piclist.width(),this.$touchlist=t.find(".touchbar li"),this.$leftbtn=t.find(".btn1"),this.$rgtbtn=t.find(".btn2"),this.$ulpic.append(this.$piclist.eq(0).clone()),this.$ulpic.prepend(this.$piclist.eq(this.$piclist.length-1).clone()),this.$ulpic.width(this.$ulpic.children().length*this.imageWidth),this.playlockr=!0,this.playlockl=!0},t.prototype.bind=function(){var t=this;this.$touchlist.on("mouseover",function(){t.dotselected($(this));var i=t.$touchlist.index($(this));t.$ulpic.stop().animate({left:-t.imageWidth*(i+1)},1e3)}),this.$leftbtn.on("click",function(){console.log(t.playPre),t.playPre()}),this.$rgtbtn.on("click",function(){t.playNext()})},t.prototype.playNext=function(){var t=this,i=parseInt(this.$ulpic.css("left")),l=Math.abs(i)/this.imageWidth;l++,this.playlockr&&(l>this.$ulpic.children().length-2?(this.playlockr=!1,this.dotselected(this.$touchlist.eq(0)),this.$ulpic.animate({left:-l*t.imageWidth},400,function(){t.$ulpic.css("left",-t.imageWidth),t.playlockr=!0})):(this.playlockr=!1,this.dotselected(this.$touchlist.eq(l-1)),this.$ulpic.animate({left:-l*t.imageWidth},400,function(){t.playlockr=!0})))},t.prototype.playPre=function(){var t=this,i=parseInt(this.$ulpic.css("left")),l=Math.abs(i)/this.imageWidth;l--,this.playlockl&&(0===l?(this.playlockl=!1,this.dotselected(this.$touchlist.eq(this.$ulpic.children().length-3)),this.$ulpic.animate({left:0},400,function(){t.$ulpic.css("left",-(t.$ulpic.children().length-2)*t.imageWidth),t.playlockl=!0})):(this.playlockl=!1,this.dotselected(this.$touchlist.eq(l-1)),this.$ulpic.animate({left:-l*t.imageWidth},400,function(){t.playlockl=!0})))},t.prototype.dotselected=function(t){t.siblings(".touchbar>li").css("background-color","#777"),t.css("background-color","#eee")},{init:function(i){i.each(function(i,l){console.log(l),new t($(l))})}}}(),container=$(".container");lunBo.init(container);